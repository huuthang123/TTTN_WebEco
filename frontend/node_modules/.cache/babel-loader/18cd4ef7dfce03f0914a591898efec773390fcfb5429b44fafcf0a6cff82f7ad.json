{"ast":null,"code":"// services/AddressService.js\nimport axios from 'axios';\nconst API_URL = 'http://localhost:5000/api/addresses';\nconst AddressService = {\n  getAddresses: async () => {\n    try {\n      const response = await axios.get(API_URL, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Lỗi khi lấy danh sách địa chỉ:', error);\n      throw error;\n    }\n  },\n  addAddress: async address => {\n    try {\n      const response = await axios.post(API_URL, address, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Lỗi khi thêm địa chỉ:', error);\n      throw error;\n    }\n  },\n  updateAddress: async (id, updatedAddress) => {\n    try {\n      const response = await axios.put(`${API_URL}/${id}`, updatedAddress, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Lỗi khi cập nhật địa chỉ:', error);\n      throw error;\n    }\n  },\n  deleteAddress: async id => {\n    try {\n      await axios.delete(`${API_URL}/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      const updatedAddresses = await AddressService.getAddresses();\n      return updatedAddresses;\n    } catch (error) {\n      console.error('Lỗi khi xóa địa chỉ:', error);\n      throw error;\n    }\n  },\n  getDefaultAddress: async () => {\n    try {\n      const addresses = await AddressService.getAddresses();\n      return addresses.length > 0 ? addresses[0] : null;\n    } catch (error) {\n      console.error('Lỗi khi lấy địa chỉ mặc định:', error);\n      return null;\n    }\n  }\n};\nexport default AddressService;","map":{"version":3,"names":["axios","API_URL","AddressService","getAddresses","response","get","headers","Authorization","localStorage","getItem","data","error","console","addAddress","address","post","updateAddress","id","updatedAddress","put","deleteAddress","delete","updatedAddresses","getDefaultAddress","addresses","length"],"sources":["D:/Năm 4 Kì 2/Phát triển hệ thống thương mại điện tử/ecommerce-app/frontend/src/services/AddressService.js"],"sourcesContent":["// services/AddressService.js\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5000/api/addresses';\r\n\r\nconst AddressService = {\r\n    getAddresses: async () => {\r\n        try {\r\n            const response = await axios.get(API_URL, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Lỗi khi lấy danh sách địa chỉ:', error);\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    addAddress: async (address) => {\r\n        try {\r\n            const response = await axios.post(API_URL, address, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Lỗi khi thêm địa chỉ:', error);\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    updateAddress: async (id, updatedAddress) => {\r\n        try {\r\n            const response = await axios.put(`${API_URL}/${id}`, updatedAddress, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Lỗi khi cập nhật địa chỉ:', error);\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    deleteAddress: async (id) => {\r\n        try {\r\n            await axios.delete(`${API_URL}/${id}`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            });\r\n            const updatedAddresses = await AddressService.getAddresses();\r\n            return updatedAddresses;\r\n        } catch (error) {\r\n            console.error('Lỗi khi xóa địa chỉ:', error);\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    getDefaultAddress: async () => {\r\n        try {\r\n            const addresses = await AddressService.getAddresses();\r\n            return addresses.length > 0 ? addresses[0] : null;\r\n        } catch (error) {\r\n            console.error('Lỗi khi lấy địa chỉ mặc định:', error);\r\n            return null;\r\n        }\r\n    }\r\n};\r\n\r\nexport default AddressService;"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,qCAAqC;AAErD,MAAMC,cAAc,GAAG;EACnBC,YAAY,EAAE,MAAAA,CAAA,KAAY;IACtB,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAACJ,OAAO,EAAE;QACtCK,OAAO,EAAE;UACLC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACJ,CAAC,CAAC;MACF,OAAOL,QAAQ,CAACM,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtD,MAAMA,KAAK;IACf;EACJ,CAAC;EAEDE,UAAU,EAAE,MAAOC,OAAO,IAAK;IAC3B,IAAI;MACA,MAAMV,QAAQ,GAAG,MAAMJ,KAAK,CAACe,IAAI,CAACd,OAAO,EAAEa,OAAO,EAAE;QAChDR,OAAO,EAAE;UACLC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACJ,CAAC,CAAC;MACF,OAAOL,QAAQ,CAACM,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,MAAMA,KAAK;IACf;EACJ,CAAC;EAEDK,aAAa,EAAE,MAAAA,CAAOC,EAAE,EAAEC,cAAc,KAAK;IACzC,IAAI;MACA,MAAMd,QAAQ,GAAG,MAAMJ,KAAK,CAACmB,GAAG,CAAC,GAAGlB,OAAO,IAAIgB,EAAE,EAAE,EAAEC,cAAc,EAAE;QACjEZ,OAAO,EAAE;UACLC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACJ,CAAC,CAAC;MACF,OAAOL,QAAQ,CAACM,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjD,MAAMA,KAAK;IACf;EACJ,CAAC;EAEDS,aAAa,EAAE,MAAOH,EAAE,IAAK;IACzB,IAAI;MACA,MAAMjB,KAAK,CAACqB,MAAM,CAAC,GAAGpB,OAAO,IAAIgB,EAAE,EAAE,EAAE;QACnCX,OAAO,EAAE;UACLC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC1D;MACJ,CAAC,CAAC;MACF,MAAMa,gBAAgB,GAAG,MAAMpB,cAAc,CAACC,YAAY,CAAC,CAAC;MAC5D,OAAOmB,gBAAgB;IAC3B,CAAC,CAAC,OAAOX,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C,MAAMA,KAAK;IACf;EACJ,CAAC;EAEDY,iBAAiB,EAAE,MAAAA,CAAA,KAAY;IAC3B,IAAI;MACA,MAAMC,SAAS,GAAG,MAAMtB,cAAc,CAACC,YAAY,CAAC,CAAC;MACrD,OAAOqB,SAAS,CAACC,MAAM,GAAG,CAAC,GAAGD,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI;IACrD,CAAC,CAAC,OAAOb,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrD,OAAO,IAAI;IACf;EACJ;AACJ,CAAC;AAED,eAAeT,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}