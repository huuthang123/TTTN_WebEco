{"ast":null,"code":"import axios from 'axios';\nexport const fetchCart = async (userId, token) => {\n  try {\n    const response = await axios.get(`http://localhost:5000/api/carts/${userId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response;\n    console.error('Lỗi khi lấy giỏ hàng:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    throw error;\n  }\n};\nexport const addToCart = async (userId, item, token) => {\n  try {\n    const response = await axios.post(`http://localhost:5000/api/carts`, {\n      userId,\n      items: [item]\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response2;\n    console.error('Lỗi khi thêm vào giỏ hàng:', ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n    throw error;\n  }\n};\nexport const removeFromCart = async (userId, productId, size, token) => {\n  try {\n    const response = await axios.delete(`http://localhost:5000/api/carts/remove/${productId}/${size}`, {\n      data: {\n        userId\n      },\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response3;\n    console.error('Lỗi khi xóa sản phẩm khỏi giỏ hàng:', ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || error.message);\n    throw error;\n  }\n};\nexport const increaseQuantity = async (userId, productId, size, token) => {\n  try {\n    const response = await axios.put(`http://localhost:5000/api/carts/increase/${productId}/${size}`, {\n      userId\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response4;\n    console.error('Lỗi khi tăng số lượng:', ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data) || error.message);\n    throw error;\n  }\n};\nexport const decreaseQuantity = async (userId, productId, size, token) => {\n  try {\n    const response = await axios.put(`http://localhost:5000/api/carts/decrease/${productId}/${size}`, {\n      userId\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response5;\n    console.error('Lỗi khi giảm số lượng:', ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data) || error.message);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","fetchCart","userId","token","response","get","headers","Authorization","data","error","_error$response","console","message","addToCart","item","post","items","_error$response2","removeFromCart","productId","size","delete","_error$response3","increaseQuantity","put","_error$response4","decreaseQuantity","_error$response5"],"sources":["D:/Năm 4 Kì 2/Phát triển hệ thống thương mại điện tử/ecommerce-app/frontend/src/services/CartService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const fetchCart = async (userId, token) => {\r\n  try {\r\n    const response = await axios.get(`http://localhost:5000/api/carts/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Lỗi khi lấy giỏ hàng:', error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const addToCart = async (userId, item, token) => {\r\n  try {\r\n    const response = await axios.post(\r\n      `http://localhost:5000/api/carts`,\r\n      {\r\n        userId,\r\n        items: [item],\r\n      },\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Lỗi khi thêm vào giỏ hàng:', error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const removeFromCart = async (userId, productId, size, token) => {\r\n  try {\r\n    const response = await axios.delete(\r\n      `http://localhost:5000/api/carts/remove/${productId}/${size}`,\r\n      {\r\n        data: { userId },\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Lỗi khi xóa sản phẩm khỏi giỏ hàng:', error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const increaseQuantity = async (userId, productId, size, token) => {\r\n  try {\r\n    const response = await axios.put(\r\n      `http://localhost:5000/api/carts/increase/${productId}/${size}`,\r\n      { userId },\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Lỗi khi tăng số lượng:', error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const decreaseQuantity = async (userId, productId, size, token) => {\r\n  try {\r\n    const response = await axios.put(\r\n      `http://localhost:5000/api/carts/decrease/${productId}/${size}`,\r\n      { userId },\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Lỗi khi giảm số lượng:', error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}