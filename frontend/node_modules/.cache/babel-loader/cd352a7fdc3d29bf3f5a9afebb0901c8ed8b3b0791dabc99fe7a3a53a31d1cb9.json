{"ast":null,"code":"// components/ProductDetail.jsx\nimport React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import Header from'./Header';import ProductItem from'./ProductItem';import RelatedItems from'./RelatedItem';import Footer from'./Footer';import{useCart}from'../context/CartContext';import'../styles/ProductDetail.css';import CartSidebar from'./CartSidebar';import ShippingAddressForm from'./ShippingAddressForm';import AddressService from'../services/AddressService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductDetail=()=>{const{category,id}=useParams();const{addToCart}=useCart();const[product,setProduct]=useState(null);const[relatedProducts,setRelatedProducts]=useState([]);const[selectedAddress,setSelectedAddress]=useState(null);const[savedAddresses,setSavedAddresses]=useState([]);const[isModalOpen,setIsModalOpen]=useState(false);const[isAddressTableOpen,setIsAddressTableOpen]=useState(false);const[editingAddress,setEditingAddress]=useState(null);useEffect(()=>{fetch(`http://localhost:5000/api/products/${id}`).then(res=>res.json()).then(data=>setProduct(data)).catch(err=>console.error('Lỗi tải sản phẩm:',err));fetch(`http://localhost:5000/api/products/list?category=${category}`).then(res=>res.json()).then(data=>setRelatedProducts(data.filter(p=>p._id!==id))).catch(err=>console.error('Lỗi tải sản phẩm liên quan:',err));},[category,id]);useEffect(()=>{const fetchAddresses=async()=>{try{const addresses=await AddressService.getAddresses();setSavedAddresses(addresses);if(addresses.length>0){setSelectedAddress({fullName:addresses[0].fullName,address:`${addresses[0].detail}, ${addresses[0].ward}, ${addresses[0].district}, ${addresses[0].province}`,phone:addresses[0].phone});}else{setSelectedAddress(null);}}catch(error){console.error('Lỗi khi lấy danh sách địa chỉ:',error);setSavedAddresses([]);setSelectedAddress(null);}};fetchAddresses();},[]);const handleAddressSelect=address=>{setSelectedAddress(address);setSavedAddresses(prev=>{const newAddress={fullName:address.fullName,detail:address.address.split(', ')[0],ward:address.address.split(', ')[1],district:address.address.split(', ')[2],province:address.address.split(', ')[3],phone:address.phone};return[newAddress,...prev];});setIsModalOpen(false);setIsAddressTableOpen(false);// Đóng bảng sau khi chọn\n};const handleSelectAddress=address=>{setSelectedAddress({fullName:address.fullName,address:`${address.detail}, ${address.ward}, ${address.district}, ${address.province}`,phone:address.phone});setIsAddressTableOpen(false);// Đóng bảng sau khi chọn\n};const handleEditAddress=address=>{setEditingAddress(address);setIsModalOpen(true);};const handleDeleteAddress=async addressId=>{try{await AddressService.deleteAddress(addressId);const updatedAddresses=savedAddresses.filter(addr=>addr._id!==addressId);setSavedAddresses(updatedAddresses);if(addressId===savedAddresses[0]._id&&updatedAddresses.length>0){setSelectedAddress({fullName:updatedAddresses[0].fullName,address:`${updatedAddresses[0].detail}, ${updatedAddresses[0].ward}, ${updatedAddresses[0].district}, ${updatedAddresses[0].province}`,phone:updatedAddresses[0].phone});}else if(updatedAddresses.length===0){setSelectedAddress(null);}}catch(error){console.error('Lỗi khi xóa địa chỉ:',error);}};const openModal=()=>{setEditingAddress(null);setIsModalOpen(true);};const closeModal=()=>{setIsModalOpen(false);setEditingAddress(null);};if(!product){return/*#__PURE__*/_jsx(\"div\",{children:\"\\u0110ang t\\u1EA3i s\\u1EA3n ph\\u1EA9m...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"product-detail\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-content\",children:[/*#__PURE__*/_jsx(ProductItem,{product:product,addToCart:addToCart}),/*#__PURE__*/_jsxs(\"div\",{className:\"address-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0110\\u1ECBa ch\\u1EC9 giao h\\xE0ng\"}),selectedAddress?/*#__PURE__*/_jsxs(\"div\",{className:\"selected-address-section\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"}),\" \",selectedAddress.phone]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0110\\u1ECBa ch\\u1EC9:\"}),\" \",selectedAddress.address]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Ch\\u01B0a c\\xF3 \\u0111\\u1ECBa ch\\u1EC9 giao h\\xE0ng\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsAddressTableOpen(!isAddressTableOpen),className:\"change-address-btn\",children:selectedAddress?'Thay đổi địa chỉ':'Chọn địa chỉ giao hàng'}),isAddressTableOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"address-table-container\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"address-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"H\\u1ECD v\\xE0 t\\xEAn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0110\\u1ECBa ch\\u1EC9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"}),/*#__PURE__*/_jsx(\"th\",{children:\"H\\xE0nh \\u0111\\u1ED9ng\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:savedAddresses.length>0?savedAddresses.map(address=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:address.fullName}),/*#__PURE__*/_jsx(\"td\",{children:`${address.detail}, ${address.ward}, ${address.district}, ${address.province}`}),/*#__PURE__*/_jsx(\"td\",{children:address.phone}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSelectAddress(address),className:\"select-btn\",children:\"Ch\\u1ECDn\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditAddress(address),className:\"edit-btn\",children:\"S\\u1EEDa\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteAddress(address._id),className:\"delete-btn\",children:\"X\\xF3a\"})]})]},address._id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",children:\"Ch\\u01B0a c\\xF3 \\u0111\\u1ECBa ch\\u1EC9 n\\xE0o\"})})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:openModal,className:\"add-address-btn\",children:\"Th\\xEAm \\u0111\\u1ECBa ch\\u1EC9 m\\u1EDBi\"})]})]}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,className:\"modal-close-btn\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:editingAddress?'Sửa địa chỉ':'Thêm địa chỉ mới'}),/*#__PURE__*/_jsx(ShippingAddressForm,{onAddressSelect:handleAddressSelect,onClose:closeModal})]})}),/*#__PURE__*/_jsx(RelatedItems,{relatedProducts:relatedProducts,currentProductId:id,addToCart:addToCart})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(CartSidebar,{})]});};export default ProductDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","Header","ProductItem","RelatedItems","Footer","useCart","CartSidebar","ShippingAddressForm","AddressService","jsx","_jsx","jsxs","_jsxs","ProductDetail","category","id","addToCart","product","setProduct","relatedProducts","setRelatedProducts","selectedAddress","setSelectedAddress","savedAddresses","setSavedAddresses","isModalOpen","setIsModalOpen","isAddressTableOpen","setIsAddressTableOpen","editingAddress","setEditingAddress","fetch","then","res","json","data","catch","err","console","error","filter","p","_id","fetchAddresses","addresses","getAddresses","length","fullName","address","detail","ward","district","province","phone","handleAddressSelect","prev","newAddress","split","handleSelectAddress","handleEditAddress","handleDeleteAddress","addressId","deleteAddress","updatedAddresses","addr","openModal","closeModal","children","className","onClick","map","colSpan","onAddressSelect","onClose","currentProductId"],"sources":["D:/Năm 4 Kì 2/Phát triển hệ thống thương mại điện tử/ecommerce-app/frontend/src/components/ProductDetail.jsx"],"sourcesContent":["// components/ProductDetail.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport ProductItem from './ProductItem';\r\nimport RelatedItems from './RelatedItem';\r\nimport Footer from './Footer';\r\nimport { useCart } from '../context/CartContext';\r\nimport '../styles/ProductDetail.css';\r\nimport CartSidebar from './CartSidebar';\r\nimport ShippingAddressForm from './ShippingAddressForm';\r\nimport AddressService from '../services/AddressService';\r\n\r\nconst ProductDetail = () => {\r\n    const { category, id } = useParams();\r\n    const { addToCart } = useCart();\r\n    const [product, setProduct] = useState(null);\r\n    const [relatedProducts, setRelatedProducts] = useState([]);\r\n    const [selectedAddress, setSelectedAddress] = useState(null);\r\n    const [savedAddresses, setSavedAddresses] = useState([]);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [isAddressTableOpen, setIsAddressTableOpen] = useState(false);\r\n    const [editingAddress, setEditingAddress] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetch(`http://localhost:5000/api/products/${id}`)\r\n            .then(res => res.json())\r\n            .then(data => setProduct(data))\r\n            .catch(err => console.error('Lỗi tải sản phẩm:', err));\r\n\r\n        fetch(`http://localhost:5000/api/products/list?category=${category}`)\r\n            .then(res => res.json())\r\n            .then(data => setRelatedProducts(data.filter(p => p._id !== id)))\r\n            .catch(err => console.error('Lỗi tải sản phẩm liên quan:', err));\r\n    }, [category, id]);\r\n\r\n    useEffect(() => {\r\n        const fetchAddresses = async () => {\r\n            try {\r\n                const addresses = await AddressService.getAddresses();\r\n                setSavedAddresses(addresses);\r\n                if (addresses.length > 0) {\r\n                    setSelectedAddress({\r\n                        fullName: addresses[0].fullName,\r\n                        address: `${addresses[0].detail}, ${addresses[0].ward}, ${addresses[0].district}, ${addresses[0].province}`,\r\n                        phone: addresses[0].phone\r\n                    });\r\n                } else {\r\n                    setSelectedAddress(null);\r\n                }\r\n            } catch (error) {\r\n                console.error('Lỗi khi lấy danh sách địa chỉ:', error);\r\n                setSavedAddresses([]);\r\n                setSelectedAddress(null);\r\n            }\r\n        };\r\n        fetchAddresses();\r\n    }, []);\r\n\r\n    const handleAddressSelect = (address) => {\r\n        setSelectedAddress(address);\r\n        setSavedAddresses((prev) => {\r\n            const newAddress = {\r\n                fullName: address.fullName,\r\n                detail: address.address.split(', ')[0],\r\n                ward: address.address.split(', ')[1],\r\n                district: address.address.split(', ')[2],\r\n                province: address.address.split(', ')[3],\r\n                phone: address.phone\r\n            };\r\n            return [newAddress, ...prev];\r\n        });\r\n        setIsModalOpen(false);\r\n        setIsAddressTableOpen(false); // Đóng bảng sau khi chọn\r\n    };\r\n\r\n    const handleSelectAddress = (address) => {\r\n        setSelectedAddress({\r\n            fullName: address.fullName,\r\n            address: `${address.detail}, ${address.ward}, ${address.district}, ${address.province}`,\r\n            phone: address.phone\r\n        });\r\n        setIsAddressTableOpen(false); // Đóng bảng sau khi chọn\r\n    };\r\n\r\n    const handleEditAddress = (address) => {\r\n        setEditingAddress(address);\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleDeleteAddress = async (addressId) => {\r\n        try {\r\n            await AddressService.deleteAddress(addressId);\r\n            const updatedAddresses = savedAddresses.filter(addr => addr._id !== addressId);\r\n            setSavedAddresses(updatedAddresses);\r\n            if (addressId === savedAddresses[0]._id && updatedAddresses.length > 0) {\r\n                setSelectedAddress({\r\n                    fullName: updatedAddresses[0].fullName,\r\n                    address: `${updatedAddresses[0].detail}, ${updatedAddresses[0].ward}, ${updatedAddresses[0].district}, ${updatedAddresses[0].province}`,\r\n                    phone: updatedAddresses[0].phone\r\n                });\r\n            } else if (updatedAddresses.length === 0) {\r\n                setSelectedAddress(null);\r\n            }\r\n        } catch (error) {\r\n            console.error('Lỗi khi xóa địa chỉ:', error);\r\n        }\r\n    };\r\n\r\n    const openModal = () => {\r\n        setEditingAddress(null);\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const closeModal = () => {\r\n        setIsModalOpen(false);\r\n        setEditingAddress(null);\r\n    };\r\n\r\n    if (!product) {\r\n        return <div>Đang tải sản phẩm...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"product-detail\">\r\n            <Header />\r\n            <div className=\"product-content\">\r\n                <ProductItem product={product} addToCart={addToCart} />\r\n                {/* Hiển thị địa chỉ đã chọn và nút mở bảng địa chỉ */}\r\n                <div className=\"address-section\">\r\n                    <h3>Địa chỉ giao hàng</h3>\r\n                    {selectedAddress ? (\r\n                        <div className=\"selected-address-section\">\r\n                            <p><strong>Số điện thoại:</strong> {selectedAddress.phone}</p>\r\n                            <p><strong>Địa chỉ:</strong> {selectedAddress.address}</p>\r\n                        </div>\r\n                    ) : (\r\n                        <p>Chưa có địa chỉ giao hàng</p>\r\n                    )}\r\n                    <button\r\n                        onClick={() => setIsAddressTableOpen(!isAddressTableOpen)}\r\n                        className=\"change-address-btn\"\r\n                    >\r\n                        {selectedAddress ? 'Thay đổi địa chỉ' : 'Chọn địa chỉ giao hàng'}\r\n                    </button>\r\n\r\n                    {/* Bảng hiển thị địa chỉ nổi */}\r\n                    {isAddressTableOpen && (\r\n                        <div className=\"address-table-container\">\r\n                            <table className=\"address-table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Họ và tên</th>\r\n                                        <th>Địa chỉ</th>\r\n                                        <th>Số điện thoại</th>\r\n                                        <th>Hành động</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {savedAddresses.length > 0 ? (\r\n                                        savedAddresses.map((address) => (\r\n                                            <tr key={address._id}>\r\n                                                <td>{address.fullName}</td>\r\n                                                <td>{`${address.detail}, ${address.ward}, ${address.district}, ${address.province}`}</td>\r\n                                                <td>{address.phone}</td>\r\n                                                <td>\r\n                                                    <button\r\n                                                        onClick={() => handleSelectAddress(address)}\r\n                                                        className=\"select-btn\"\r\n                                                    >\r\n                                                        Chọn\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => handleEditAddress(address)}\r\n                                                        className=\"edit-btn\"\r\n                                                    >\r\n                                                        Sửa\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => handleDeleteAddress(address._id)}\r\n                                                        className=\"delete-btn\"\r\n                                                    >\r\n                                                        Xóa\r\n                                                    </button>\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))\r\n                                    ) : (\r\n                                        <tr>\r\n                                            <td colSpan=\"4\">Chưa có địa chỉ nào</td>\r\n                                        </tr>\r\n                                    )}\r\n                                </tbody>\r\n                            </table>\r\n                            <button onClick={openModal} className=\"add-address-btn\">\r\n                                Thêm địa chỉ mới\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Modal hiển thị form thêm/sửa địa chỉ */}\r\n                {isModalOpen && (\r\n                    <div className=\"modal-overlay\">\r\n                        <div className=\"modal-content\">\r\n                            <button\r\n                                onClick={closeModal}\r\n                                className=\"modal-close-btn\"\r\n                            >\r\n                                ×\r\n                            </button>\r\n                            <h2>{editingAddress ? 'Sửa địa chỉ' : 'Thêm địa chỉ mới'}</h2>\r\n                            <ShippingAddressForm onAddressSelect={handleAddressSelect} onClose={closeModal} />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                <RelatedItems relatedProducts={relatedProducts} currentProductId={id} addToCart={addToCart} />\r\n                \r\n                \r\n            </div>\r\n            <Footer />\r\n            <CartSidebar />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}