{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import'../styles/menu.css';import{fetchMenuItems}from'../services/menuService';import{useCart}from'../context/CartContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Menu(){const[fruitItems,setFruitItems]=useState([]);const[seafoodItems,setSeafoodItems]=useState([]);const[meatItems,setMeatItems]=useState([]);const[nutItems,setNutItems]=useState([]);const{addToCart}=useCart();const navigate=useNavigate();useEffect(()=>{fetchMenuItems('fruit').then(items=>setFruitItems(items));fetchMenuItems('seafood').then(items=>setSeafoodItems(items));fetchMenuItems('meat').then(items=>setMeatItems(items));fetchMenuItems('nut').then(items=>setNutItems(items));},[]);const handleAddToCart=item=>{var _item$prices,_item$prices$,_item$prices2;const price=((_item$prices=item.prices)===null||_item$prices===void 0?void 0:(_item$prices$=_item$prices[\"0\"])===null||_item$prices$===void 0?void 0:_item$prices$[\"25\"])||((_item$prices2=item.prices)===null||_item$prices2===void 0?void 0:_item$prices2[\"1\"]);if(price===undefined){console.error(\"L·ªói: Kh√¥ng t√¨m th·∫•y gi√° s·∫£n ph·∫©m\",item);return;}addToCart({productId:item._id,name:item.name,price:price,image:item.image,size:\"0.25\",quantity:1});};const renderMenuList=(items,categoryTitle,categoryId)=>/*#__PURE__*/_jsxs(\"div\",{className:\"menu-list\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"menu-category-title\",children:categoryTitle}),/*#__PURE__*/_jsx(\"div\",{id:categoryId,className:\"menu-content show\",children:items.map(item=>{var _item$prices3,_item$prices3$,_item$prices4;const currentPrice=((_item$prices3=item.prices)===null||_item$prices3===void 0?void 0:(_item$prices3$=_item$prices3[\"0\"])===null||_item$prices3$===void 0?void 0:_item$prices3$[\"25\"])||((_item$prices4=item.prices)===null||_item$prices4===void 0?void 0:_item$prices4[\"1\"]);const originalPrice=currentPrice/(1-0.17);// Gi·∫£m 17%\nconst discountPercentage=17;return/*#__PURE__*/_jsxs(\"div\",{className:\"food-items\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"food-item\",onClick:()=>navigate(`/${item.category}/${item._id}`),style:{cursor:\"pointer\"},children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name}),/*#__PURE__*/_jsx(\"h2\",{children:item.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"food-price\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"current-price\",children:currentPrice?`${currentPrice.toLocaleString()} VND`:\"Gi√° ch∆∞a c·∫≠p nh·∫≠t\"}),originalPrice&&/*#__PURE__*/_jsxs(\"span\",{className:\"original-price\",children:[Math.round(originalPrice).toLocaleString(),\" VND\"]}),discountPercentage&&/*#__PURE__*/_jsxs(\"span\",{className:\"discount\",children:[\"-\",discountPercentage,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"food-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u2B50 \",item.rating||5.0]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0110\\xE3 b\\xE1n \",item.sold||0]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-to-cart-btn\",onClick:e=>{e.stopPropagation();handleAddToCart(item);},children:\"\\uD83D\\uDED2\"})]},item._id);})})]});return/*#__PURE__*/_jsx(\"section\",{className:\"menu section-padding\",id:\"dactrung\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"section-title\",children:/*#__PURE__*/_jsx(\"h2\",{\"data-title\":\"M\\xF3n \\u0110\\u1EB7c Tr\\u01B0ng\",children:\"S\\u1EA2N PH\\u1EA8M C\\u1EE6A CH\\xDANG T\\xD4I\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"menu-title\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"T\\u1EADn h\\u01B0\\u1EDFng v\\u1ECB ngon t\\u1EF1 nhi\\xEAn t\\u1EEB th\\u1EF1c ph\\u1EA9m s\\u1EA5y kh\\xF4...\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-lists\",children:[renderMenuList(fruitItems,\"Tr√°i C√¢y S·∫•y\",\"fruit\"),renderMenuList(seafoodItems,\"H·∫£i S·∫£n S·∫•y\",\"seafood\"),renderMenuList(meatItems,\"Th·ªãt S·∫•y\",\"meat\"),renderMenuList(nutItems,\"H·∫°t S·∫•y\",\"nut\")]})]})});}export default Menu;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","fetchMenuItems","useCart","jsx","_jsx","jsxs","_jsxs","Menu","fruitItems","setFruitItems","seafoodItems","setSeafoodItems","meatItems","setMeatItems","nutItems","setNutItems","addToCart","navigate","then","items","handleAddToCart","item","_item$prices","_item$prices$","_item$prices2","price","prices","undefined","console","error","productId","_id","name","image","size","quantity","renderMenuList","categoryTitle","categoryId","className","children","id","map","_item$prices3","_item$prices3$","_item$prices4","currentPrice","originalPrice","discountPercentage","onClick","category","style","cursor","src","alt","toLocaleString","Math","round","rating","sold","e","stopPropagation"],"sources":["D:/NƒÉm 4 K√¨ 2/Ph√°t tri·ªÉn h·ªá th·ªëng th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠/ecommerce-app/frontend/src/components/Menu.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/menu.css';\r\nimport { fetchMenuItems } from '../services/menuService';\r\nimport { useCart } from '../context/CartContext';\r\n\r\nfunction Menu() {\r\n    const [fruitItems, setFruitItems] = useState([]);\r\n    const [seafoodItems, setSeafoodItems] = useState([]);\r\n    const [meatItems, setMeatItems] = useState([]);\r\n    const [nutItems, setNutItems] = useState([]);\r\n    const { addToCart } = useCart();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        fetchMenuItems('fruit').then((items) => setFruitItems(items));\r\n        fetchMenuItems('seafood').then((items) => setSeafoodItems(items));\r\n        fetchMenuItems('meat').then((items) => setMeatItems(items));\r\n        fetchMenuItems('nut').then((items) => setNutItems(items));\r\n    }, []);\r\n\r\n    const handleAddToCart = (item) => {\r\n        const price = item.prices?.[\"0\"]?.[\"25\"] || item.prices?.[\"1\"];\r\n        if (price === undefined) {\r\n            console.error(\"L·ªói: Kh√¥ng t√¨m th·∫•y gi√° s·∫£n ph·∫©m\", item);\r\n            return;\r\n        }\r\n\r\n        addToCart({\r\n            productId: item._id,\r\n            name: item.name,\r\n            price: price,\r\n            image: item.image,\r\n            size: \"0.25\",\r\n            quantity: 1\r\n        });\r\n    };\r\n\r\n    const renderMenuList = (items, categoryTitle, categoryId) => (\r\n        <div className=\"menu-list\">\r\n            <h3 className=\"menu-category-title\">{categoryTitle}</h3>\r\n            <div id={categoryId} className=\"menu-content show\">\r\n                {items.map((item) => {\r\n                    const currentPrice = item.prices?.[\"0\"]?.[\"25\"] || item.prices?.[\"1\"];\r\n                    const originalPrice = currentPrice / (1 - 0.17); // Gi·∫£m 17%\r\n                    const discountPercentage = 17;\r\n\r\n                    return (\r\n                        <div className=\"food-items\" key={item._id}>\r\n                            <div\r\n                                className=\"food-item\"\r\n                                onClick={() => navigate(`/${item.category}/${item._id}`)}\r\n                                style={{ cursor: \"pointer\" }}\r\n                            >\r\n                                <img src={item.image} alt={item.name} />\r\n                                <h2>{item.name}</h2>\r\n                            </div>\r\n                            <div className=\"food-price\">\r\n                                <span className=\"current-price\">\r\n                                    {currentPrice\r\n                                        ? `${currentPrice.toLocaleString()} VND`\r\n                                        : \"Gi√° ch∆∞a c·∫≠p nh·∫≠t\"}\r\n                                </span>\r\n                                {originalPrice && (\r\n                                    <span className=\"original-price\">\r\n                                        {Math.round(originalPrice).toLocaleString()} VND\r\n                                    </span>\r\n                                )}\r\n                                {discountPercentage && (\r\n                                    <span className=\"discount\">-{discountPercentage}%</span>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"food-meta\">\r\n                                <span>‚≠ê {item.rating || 5.0}</span>\r\n                                <span>ƒê√£ b√°n {item.sold || 0}</span>\r\n                            </div>\r\n                            <button\r\n                                className=\"add-to-cart-btn\"\r\n                                onClick={(e) => {\r\n                                    e.stopPropagation();\r\n                                    handleAddToCart(item);\r\n                                }}\r\n                            >\r\n                                üõí\r\n                            </button>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <section className=\"menu section-padding\" id=\"dactrung\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"section-title\">\r\n                        <h2 data-title=\"M√≥n ƒê·∫∑c Tr∆∞ng\">S·∫¢N PH·∫®M C·ª¶A CH√öNG T√îI</h2>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"menu-title\">\r\n                        <h2>T·∫≠n h∆∞·ªüng v·ªã ngon t·ª± nhi√™n t·ª´ th·ª±c ph·∫©m s·∫•y kh√¥...</h2>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"menu-lists\">\r\n                    {renderMenuList(fruitItems, \"Tr√°i C√¢y S·∫•y\", \"fruit\")}\r\n                    {renderMenuList(seafoodItems, \"H·∫£i S·∫£n S·∫•y\", \"seafood\")}\r\n                    {renderMenuList(meatItems, \"Th·ªãt S·∫•y\", \"meat\")}\r\n                    {renderMenuList(nutItems, \"H·∫°t S·∫•y\", \"nut\")}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Menu;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}