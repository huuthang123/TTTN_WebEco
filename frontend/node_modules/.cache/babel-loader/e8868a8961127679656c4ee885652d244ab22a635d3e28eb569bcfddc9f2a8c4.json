{"ast":null,"code":"// src/context/CartContext.js\nimport React,{createContext,useState,useContext,useEffect,useCallback}from'react';import{useAuth}from'./AuthContext';import{fetchCart,addToCart,removeFromCart,increaseQuantity,decreaseQuantity}from'../services/CartService';import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();export const CartProvider=_ref=>{let{children}=_ref;const[cartItems,setCartItems]=useState([]);const[isOpen,setIsOpen]=useState(false);const{user}=useAuth();const loadCartFromServer=useCallback(async()=>{if(user&&user._id){try{const cart=await fetchCart(user._id);const itemsWithSelection=cart.items.map(item=>({...item,selected:item.selected||false}));setCartItems(itemsWithSelection);}catch(error){setCartItems([]);}}},[user]);const loadCartFromLocalStorage=useCallback(()=>{try{const savedCart=localStorage.getItem('cartItems');setCartItems(savedCart?JSON.parse(savedCart):[]);}catch(error){console.error(\"Lỗi khi lấy giỏ hàng từ localStorage:\",error);setCartItems([]);}},[]);useEffect(()=>{if(user&&user._id){loadCartFromServer();}else{console.warn('Không có user._id, sử dụng localStorage:',user);loadCartFromLocalStorage();}},[user,loadCartFromServer,loadCartFromLocalStorage]);useEffect(()=>{if(!user||!user._id){localStorage.setItem('cartItems',JSON.stringify(cartItems));}},[cartItems,user]);const toggleCart=()=>setIsOpen(prev=>!prev);const handleAddToCart=async product=>{const{productId,quantity=1,size,name,price,image}=product;if(user&&user._id){try{await addToCart(user._id,{productId,quantity,size,name,price,image});await loadCartFromServer();}catch(error){// Lỗi đã được log trong CartService\n}}else{setCartItems(prev=>{const existingItem=prev.find(item=>item.productId===productId&&item.size===size);if(existingItem){return prev.map(item=>item.productId===productId&&item.size===size?{...item,quantity:item.quantity+quantity}:item);}return[...prev,{productId,quantity,size,name,price,image,selected:false}];});}};const handleRemoveFromCart=async(productId,size)=>{if(user&&user._id){try{await removeFromCart(user._id,productId,size);await loadCartFromServer();}catch(error){// Lỗi đã được log trong CartService\n}}else{setCartItems(prev=>prev.filter(item=>!(item.productId===productId&&item.size===size)));}};const handleIncreaseQuantity=async(productId,size)=>{if(user&&user._id){try{await increaseQuantity(user._id,productId,size);await loadCartFromServer();}catch(error){// Lỗi đã được log trong CartService\n}}else{setCartItems(prev=>prev.map(item=>item.productId===productId&&item.size===size?{...item,quantity:item.quantity+1}:item));}};const handleDecreaseQuantity=async(productId,size)=>{if(user&&user._id){try{await decreaseQuantity(user._id,productId,size);await loadCartFromServer();}catch(error){// Lỗi đã được log trong CartService\n}}else{setCartItems(prev=>prev.map(item=>item.productId===productId&&item.size===size&&item.quantity>1?{...item,quantity:item.quantity-1}:item).filter(item=>item.quantity>0));}};const handleSelectAll=isSelected=>{setCartItems(prev=>prev.map(item=>({...item,selected:isSelected})));if(!user||!user._id){localStorage.setItem('cartItems',JSON.stringify(cartItems.map(item=>({...item,selected:isSelected}))));}};const handleToggleItemSelection=(productId,size)=>{setCartItems(prev=>prev.map(item=>item.productId===productId&&item.size===size?{...item,selected:!item.selected}:item));if(!user||!user._id){localStorage.setItem('cartItems',JSON.stringify(cartItems.map(item=>item.productId===productId&&item.size===size?{...item,selected:!item.selected}:item)));}};const total=cartItems.filter(item=>item.selected).reduce((sum,item)=>sum+item.price*item.quantity,0);const totalItems=cartItems.reduce((sum,item)=>sum+item.quantity,0);const displaySize=size=>{switch(size){case\"0.25\":return\"0.25kg\";case\"0.5\":return\"0.5kg\";case\"1\":return\"1kg\";default:return size;}};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cartItems,setCartItems,isOpen,toggleCart,total,totalItems,addToCart:handleAddToCart,removeFromCart:handleRemoveFromCart,increaseQuantity:handleIncreaseQuantity,decreaseQuantity:handleDecreaseQuantity,selectAll:handleSelectAll,toggleItemSelection:handleToggleItemSelection,// Thêm hàm này vào context\nfetchCartFromServer:loadCartFromServer,loadCartFromLocalStorage,displaySize},children:children});};export const useCart=()=>{const context=useContext(CartContext);if(!context){throw new Error(\"useCart must be used within a CartProvider\");}return context;};","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","useCallback","useAuth","fetchCart","addToCart","removeFromCart","increaseQuantity","decreaseQuantity","jsx","_jsx","CartContext","CartProvider","_ref","children","cartItems","setCartItems","isOpen","setIsOpen","user","loadCartFromServer","_id","cart","itemsWithSelection","items","map","item","selected","error","loadCartFromLocalStorage","savedCart","localStorage","getItem","JSON","parse","console","warn","setItem","stringify","toggleCart","prev","handleAddToCart","product","productId","quantity","size","name","price","image","existingItem","find","handleRemoveFromCart","filter","handleIncreaseQuantity","handleDecreaseQuantity","handleSelectAll","isSelected","handleToggleItemSelection","total","reduce","sum","totalItems","displaySize","Provider","value","selectAll","toggleItemSelection","fetchCartFromServer","useCart","context","Error"],"sources":["D:/Năm 4 Kì 2/Phát triển hệ thống thương mại điện tử/ecommerce-app/frontend/src/context/CartContext.js"],"sourcesContent":["// src/context/CartContext.js\r\nimport React, { createContext, useState, useContext, useEffect, useCallback } from 'react';\r\nimport { useAuth } from './AuthContext';\r\nimport { fetchCart, addToCart, removeFromCart, increaseQuantity, decreaseQuantity } from '../services/CartService';\r\n\r\nconst CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n    const [cartItems, setCartItems] = useState([]);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const { user } = useAuth();\r\n\r\n    const loadCartFromServer = useCallback(async () => {\r\n        if (user && user._id) {\r\n            try {\r\n                const cart = await fetchCart(user._id);\r\n                const itemsWithSelection = cart.items.map(item => ({\r\n                    ...item,\r\n                    selected: item.selected || false\r\n                }));\r\n                setCartItems(itemsWithSelection);\r\n            } catch (error) {\r\n                setCartItems([]);\r\n            }\r\n        }\r\n    }, [user]);\r\n\r\n    const loadCartFromLocalStorage = useCallback(() => {\r\n        try {\r\n            const savedCart = localStorage.getItem('cartItems');\r\n            setCartItems(savedCart ? JSON.parse(savedCart) : []);\r\n        } catch (error) {\r\n            console.error(\"Lỗi khi lấy giỏ hàng từ localStorage:\", error);\r\n            setCartItems([]);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (user && user._id) {\r\n            loadCartFromServer();\r\n        } else {\r\n            console.warn('Không có user._id, sử dụng localStorage:', user);\r\n            loadCartFromLocalStorage();\r\n        }\r\n    }, [user, loadCartFromServer, loadCartFromLocalStorage]);\r\n\r\n    useEffect(() => {\r\n        if (!user || !user._id) {\r\n            localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n        }\r\n    }, [cartItems, user]);\r\n\r\n    const toggleCart = () => setIsOpen(prev => !prev);\r\n\r\n    const handleAddToCart = async (product) => {\r\n        const { productId, quantity = 1, size, name, price, image } = product;\r\n\r\n        if (user && user._id) {\r\n            try {\r\n                await addToCart(user._id, { productId, quantity, size, name, price, image });\r\n                await loadCartFromServer();\r\n            } catch (error) {\r\n                // Lỗi đã được log trong CartService\r\n            }\r\n        } else {\r\n            setCartItems(prev => {\r\n                const existingItem = prev.find(item => item.productId === productId && item.size === size);\r\n                if (existingItem) {\r\n                    return prev.map(item =>\r\n                        item.productId === productId && item.size === size\r\n                            ? { ...item, quantity: item.quantity + quantity }\r\n                            : item\r\n                    );\r\n                }\r\n                return [...prev, { productId, quantity, size, name, price, image, selected: false }];\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleRemoveFromCart = async (productId, size) => {\r\n        if (user && user._id) {\r\n            try {\r\n                await removeFromCart(user._id, productId, size);\r\n                await loadCartFromServer();\r\n            } catch (error) {\r\n                // Lỗi đã được log trong CartService\r\n            }\r\n        } else {\r\n            setCartItems(prev => \r\n                prev.filter(item => !(item.productId === productId && item.size === size))\r\n            );\r\n        }\r\n    };\r\n\r\n    const handleIncreaseQuantity = async (productId, size) => {\r\n        if (user && user._id) {\r\n            try {\r\n                await increaseQuantity(user._id, productId, size);\r\n                await loadCartFromServer();\r\n            } catch (error) {\r\n                // Lỗi đã được log trong CartService\r\n            }\r\n        } else {\r\n            setCartItems(prev =>\r\n                prev.map(item =>\r\n                    item.productId === productId && item.size === size\r\n                        ? { ...item, quantity: item.quantity + 1 }\r\n                        : item\r\n                )\r\n            );\r\n        }\r\n    };\r\n\r\n    const handleDecreaseQuantity = async (productId, size) => {\r\n        if (user && user._id) {\r\n            try {\r\n                await decreaseQuantity(user._id, productId, size);\r\n                await loadCartFromServer();\r\n            } catch (error) {\r\n                // Lỗi đã được log trong CartService\r\n            }\r\n        } else {\r\n            setCartItems(prev =>\r\n                prev.map(item =>\r\n                    item.productId === productId && item.size === size && item.quantity > 1\r\n                        ? { ...item, quantity: item.quantity - 1 }\r\n                        : item\r\n                ).filter(item => item.quantity > 0)\r\n            );\r\n        }\r\n    };\r\n\r\n    const handleSelectAll = (isSelected) => {\r\n        setCartItems(prev =>\r\n            prev.map(item => ({\r\n                ...item,\r\n                selected: isSelected\r\n            }))\r\n        );\r\n        if (!user || !user._id) {\r\n            localStorage.setItem('cartItems', JSON.stringify(cartItems.map(item => ({\r\n                ...item,\r\n                selected: isSelected\r\n            }))));\r\n        }\r\n    };\r\n\r\n    const handleToggleItemSelection = (productId, size) => {\r\n        setCartItems(prev =>\r\n            prev.map(item =>\r\n                item.productId === productId && item.size === size\r\n                    ? { ...item, selected: !item.selected }\r\n                    : item\r\n            )\r\n        );\r\n        if (!user || !user._id) {\r\n            localStorage.setItem('cartItems', JSON.stringify(cartItems.map(item =>\r\n                item.productId === productId && item.size === size\r\n                    ? { ...item, selected: !item.selected }\r\n                    : item\r\n            )));\r\n        }\r\n    };\r\n\r\n    const total = cartItems\r\n        .filter(item => item.selected)\r\n        .reduce((sum, item) => sum + (item.price * item.quantity), 0);\r\n\r\n    const totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);\r\n\r\n    const displaySize = (size) => {\r\n        switch (size) {\r\n            case \"0.25\": return \"0.25kg\";\r\n            case \"0.5\": return \"0.5kg\";\r\n            case \"1\": return \"1kg\";\r\n            default: return size;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <CartContext.Provider\r\n            value={{\r\n                cartItems,\r\n                setCartItems,\r\n                isOpen,\r\n                toggleCart,\r\n                total,\r\n                totalItems,\r\n                addToCart: handleAddToCart,\r\n                removeFromCart: handleRemoveFromCart,\r\n                increaseQuantity: handleIncreaseQuantity,\r\n                decreaseQuantity: handleDecreaseQuantity,\r\n                selectAll: handleSelectAll,\r\n                toggleItemSelection: handleToggleItemSelection, // Thêm hàm này vào context\r\n                fetchCartFromServer: loadCartFromServer,\r\n                loadCartFromLocalStorage,\r\n                displaySize\r\n            }}\r\n        >\r\n            {children}\r\n        </CartContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useCart = () => {\r\n    const context = useContext(CartContext);\r\n    if (!context) {\r\n        throw new Error(\"useCart must be used within a CartProvider\");\r\n    }\r\n    return context;\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}